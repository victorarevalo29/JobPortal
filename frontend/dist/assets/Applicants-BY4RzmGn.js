import{_ as C,q as h,i as x,c as d,a as t,b as p,w as o,B as z,j as v,o as r,e as u,k as A,F as B,d as g,l as _,n as f,t as e}from"./index-BsLnnuA8.js";import{B as c}from"./BaseCard-BhYAbX2i.js";import{u as w}from"./jobsStore-C7FdPDiM.js";const N={class:"applicants"},E={class:"applicants__header"},V={class:"applicants__layout"},D={class:"panel-table"},S=["onClick"],j={key:0},F={class:"detail-block"},P={class:"detail-value"},R={class:"detail-block"},T={class:"detail-value"},q={class:"detail-block"},J={class:"detail-block"},L={class:"detail-value"},$={__name:"Applicants",setup(H){const i=w(),l=h(null),b=n=>{l.value=n},k=n=>n?n.toLowerCase().normalize("NFD").replace(/[^a-z0-9]+/g,"-"):"",m=n=>{n&&window.open(n,"_blank")},y=async()=>{await i.fetchApplications()};return x(async()=>{i.jobs.length||await i.fetchJobs(),i.applications.length||await i.fetchApplications(),l.value=i.applications[0]||null}),(n,a)=>(r(),d("section",N,[t("header",E,[a[2]||(a[2]=t("div",null,[t("p",{class:"section-kicker"},"Talent pipeline"),t("h1",null,"Revisa perfiles y prioriza entrevistas."),t("p",null,"Tu panel organiza aplicaciones, estatus y notas clave para decidir más rápido.")],-1)),p(z,{size:"sm",variant:"ghost",onClick:y},{default:o(()=>[...a[1]||(a[1]=[u("Actualizar",-1)])]),_:1})]),t("div",V,[p(c,{class:"applicants__table"},{title:o(()=>[...a[3]||(a[3]=[u("Postulaciones",-1)])]),default:o(()=>[t("table",D,[a[5]||(a[5]=t("thead",null,[t("tr",null,[t("th",null,"Candidato"),t("th",null,"Rol"),t("th",null,"Experiencia"),t("th",null,"Disponibilidad"),t("th",null,"Estatus")])],-1)),t("tbody",null,[(r(!0),d(B,null,g(_(i).applications,s=>(r(),d("tr",{key:s.id,onClick:I=>b(s),class:f({active:l.value&&l.value.id===s.id})},[t("td",null,e(s.candidate),1),t("td",null,e(s.role),1),t("td",null,e(s.experience),1),t("td",null,e(s.availability),1),t("td",null,[t("span",{class:f(["status-chip",k(s.status)])},e(s.status),3)])],10,S))),128)),_(i).applications.length?A("",!0):(r(),d("tr",j,[...a[4]||(a[4]=[t("td",{colspan:"5",class:"empty-cell"}," Aún no hay postulaciones. Comparte tus vacantes para atraer candidatos. ",-1)])]))])])]),_:1}),l.value?(r(),v(c,{key:0,class:"applicants__details"},{title:o(()=>[u(e(l.value.candidate),1)]),default:o(()=>[t("div",F,[a[6]||(a[6]=t("p",{class:"detail-label"},"Rol",-1)),t("p",P,e(l.value.role),1)]),t("div",R,[a[7]||(a[7]=t("p",{class:"detail-label"},"Expectativa salarial",-1)),t("p",T,e(l.value.salary),1)]),t("div",q,[a[8]||(a[8]=t("p",{class:"detail-label"},"Portafolio / CV",-1)),t("button",{class:"table-link",onClick:a[0]||(a[0]=s=>m(l.value.profileUrl))},"Abrir enlace")]),t("div",J,[a[9]||(a[9]=t("p",{class:"detail-label"},"Notas",-1)),t("p",L,e(l.value.notes),1)])]),_:1})):(r(),v(c,{key:1,class:"applicants__details"},{title:o(()=>[...a[10]||(a[10]=[u("Selecciona un perfil",-1)])]),default:o(()=>[a[11]||(a[11]=t("p",null,"Haz clic en cualquier fila para revisar el contexto y enlazar a su portafolio.",-1))]),_:1}))])]))}},K=C($,[["__scopeId","data-v-6639c756"]]);export{K as default};
