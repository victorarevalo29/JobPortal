import{_ as g,p as y,r as b,s as w,a as i,b as e,d as r,w as d,u as V,q as B,g as c,i as C,m as N,t as k,B as x,l as S,h as p}from"./index-Cw7ty9o7.js";import{B as A}from"./BaseCard-B_bAREMe.js";import{B as m}from"./BaseInput-DF9V6cTV.js";const I={class:"auth auth--login"},q={class:"auth__surface"},R={key:0,class:"auth__error"},z={__name:"LoginView",setup(L){const n=y(),u=V(),_=B(),s=b({email:"",password:""}),t=w(""),h=()=>!s.email||!s.password?(t.value="Completa tu correo y contraseña",!1):(t.value="",!0),f=async()=>{if(h())try{await n.login(s);const o=_.query.redirect||"/dashboard";u.push(o)}catch(o){t.value=o.message||"No pudimos validar tus datos"}},v=()=>{u.push("/register")};return(o,a)=>(c(),i("section",I,[e("div",q,[a[5]||(a[5]=e("div",{class:"auth__brand"},[e("span",{class:"auth__pill"},"JobPortal"),e("h2",null,"Activa tu panel personalizado y mantén tu pipeline al día."),e("p",null,"Administra vacantes, foros y recursos desde un solo lugar con métricas claras.")],-1)),r(A,{variant:"glass",class:"auth__card"},{default:d(()=>[a[4]||(a[4]=e("div",{class:"auth__header"},[e("p",{class:"auth__eyebrow"},"Bienvenido de vuelta"),e("h1",null,"Inicia sesión"),e("p",{class:"auth__hint"},"Accede al panel, guarda vacantes y continúa donde te quedaste.")],-1)),e("form",{class:"auth__form",onSubmit:C(f,["prevent"])},[r(m,{modelValue:s.email,"onUpdate:modelValue":a[0]||(a[0]=l=>s.email=l),type:"email",label:"Correo institucional",placeholder:"tusitio@uni.edu"},null,8,["modelValue"]),r(m,{modelValue:s.password,"onUpdate:modelValue":a[1]||(a[1]=l=>s.password=l),type:"password",label:"Contraseña",placeholder:"••••••••"},null,8,["modelValue"]),t.value?(c(),i("p",R,k(t.value),1)):N("",!0),r(x,{type:"submit",size:"lg","is-loading":S(n).loading},{default:d(()=>[...a[2]||(a[2]=[p("Iniciar sesión",-1)])]),_:1},8,["is-loading"])],32),e("p",{class:"auth__alt"},[a[3]||(a[3]=p(" ¿No tienes cuenta? ",-1)),e("button",{type:"button",class:"auth__link",onClick:v},"Crear cuenta")])]),_:1})])]))}},D=g(z,[["__scopeId","data-v-3cf89a96"]]);export{D as default};
