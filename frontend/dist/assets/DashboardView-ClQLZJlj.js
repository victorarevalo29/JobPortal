import{_ as R,p as _,i as E,c as i,a as t,b as p,w as s,k as I,F as g,d as f,t as e,B as w,l as k,u as A,e as b,o as l,R as V,m as N,q as F,j,A as H,C as L,n as O}from"./index-BsLnnuA8.js";import{B as C}from"./BaseCard-BhYAbX2i.js";import{u as D}from"./jobsStore-C7FdPDiM.js";import U from"./ManageJobs-CdqVkPW8.js";import K from"./Applicants-BY4RzmGn.js";import"./BaseInput-DXqoVjhU.js";const X={class:"talent-dashboard"},G={class:"talent-dashboard__grid"},Q={class:"matches-table"},W=["onClick"],Y={key:0},Z={class:"match-card__footer"},tt={class:"talent-dashboard__stack"},et={class:"list"},at={class:"pill"},ot=["onClick"],st={class:"list"},lt=["onClick"],nt={class:"actions"},it={__name:"TalentDashboard",setup(T){const v=D(),c=A(),m=_(()=>v.jobs.slice(0,5)),$=[{title:"Plantilla de portafolio",copy:"Checklist para contar historias de producto en menos de 5 minutos.",link:"/resources#portafolio",cta:"Abrir",badge:"Brand Kit"},{title:"Reto técnico: data storytelling",copy:"Practica con datasets reales y pide feedback al equipo JobPortal.",link:"/resources#retos",cta:"Resolver",badge:"Challenge"}],P=[{title:"UX en ciencia de datos",copy:"Tips para colaborar con squads de analítica.",tag:"DesignOps"},{title:"Migrar a roles remotos",copy:"Historias de personas que trabajan desde Latam.",tag:"Remote"}],u=y=>{y&&c.push({name:"job-detail",params:{id:y}})},r=y=>c.push(y),z=()=>c.push("/forum"),x=y=>window.open(y,"_blank");return E(()=>{v.jobs.length||v.fetchJobs()}),(y,a)=>(l(),i("section",X,[t("div",G,[p(C,{class:"match-card"},{title:s(()=>[...a[3]||(a[3]=[b("Vacantes recomendadas",-1)])]),footer:s(()=>[t("div",Z,[a[7]||(a[7]=t("p",null,"Sugerimos roles compatibles con tu portafolio y cohort actual.",-1)),p(w,{size:"sm",onClick:a[0]||(a[0]=o=>k(c).push("/jobs"))},{default:s(()=>[...a[6]||(a[6]=[b("Ir al buscador",-1)])]),_:1})])]),default:s(()=>[a[8]||(a[8]=t("p",{class:"muted"},"Basado en tus skills y búsquedas recientes.",-1)),t("table",Q,[a[5]||(a[5]=t("thead",null,[t("tr",null,[t("th",null,"Rol"),t("th",null,"Compañía"),t("th",null,"Modalidad"),t("th",null,"Compensación")])],-1)),t("tbody",null,[(l(!0),i(g,null,f(m.value,o=>(l(),i("tr",{key:o.id,onClick:S=>u(o.id)},[t("td",null,e(o.title),1),t("td",null,e(o.company),1),t("td",null,e(o.modality||"Flexible"),1),t("td",null,e(o.salaryRange||o.salary||"A convenir"),1)],8,W))),128)),m.value.length?I("",!0):(l(),i("tr",Y,[...a[4]||(a[4]=[t("td",{colspan:"4",class:"empty"},"Aún no hay coincidencias. Explora nuevas áreas para desbloquear recomendaciones.",-1)])]))])])]),_:1}),t("div",tt,[p(C,{class:"resource-card"},{title:s(()=>[...a[9]||(a[9]=[b("Recursos activos",-1)])]),default:s(()=>[t("ul",et,[(l(),i(g,null,f($,o=>t("li",{key:o.title},[t("div",null,[t("span",at,e(o.badge),1),t("strong",null,e(o.title),1),t("p",null,e(o.copy),1)]),t("button",{type:"button",class:"link-button",onClick:S=>r(o.link)},e(o.cta),9,ot)])),64))])]),_:1}),p(C,{class:"community-card"},{title:s(()=>[...a[10]||(a[10]=[b("Comunidad y foros",-1)])]),default:s(()=>[t("ul",st,[(l(),i(g,null,f(P,o=>t("li",{key:o.title},[t("div",null,[t("strong",null,e(o.title),1),t("p",null,e(o.copy),1)]),t("button",{type:"button",class:"pill-button",onClick:S=>z(o.tag)},e(o.tag),9,lt)])),64))])]),_:1})])]),p(C,{class:"talent-dashboard__support",variant:"glass"},{title:s(()=>[...a[11]||(a[11]=[b("¿Necesitas ayuda?",-1)])]),default:s(()=>[a[13]||(a[13]=t("p",null,"Escríbenos para ajustar tu perfil o solicitar mentoría personalizada.",-1)),t("div",nt,[p(w,{variant:"ghost",size:"sm",onClick:a[1]||(a[1]=o=>x("mailto:soporte@jobportal.dev"))},{default:s(()=>[...a[12]||(a[12]=[b("Enviar correo",-1)])]),_:1}),t("button",{type:"button",class:"link-button",onClick:a[2]||(a[2]=o=>x("https://cal.com/jobportal/support"))},"Agenda una llamada →")])]),_:1})]))}},rt=R(it,[["__scopeId","data-v-4fb4c468"]]),ct={class:"employer-dashboard"},ut={class:"employer-dashboard__hero"},dt={class:"employer-dashboard__actions"},pt={class:"employer-dashboard__stats"},bt={class:"stat-card__label"},mt={class:"stat-card__value"},_t={class:"stat-card__sub"},vt={class:"employer-dashboard__grid"},yt={class:"panel-table"},ht={class:"applicant-list"},gt={__name:"Dashboard",setup(T){const v=A(),c=D(),m=_(()=>[{label:"Vacantes activas",value:c.jobs.length.toString().padStart(2,"0"),subtext:"Sincronizadas con tu panel"},{label:"Postulaciones",value:c.applications.length.toString().padStart(2,"0"),subtext:"Últimos 14 días"},{label:"Tiempo a contratar",value:"18 días",subtext:"Promedio de cohorts JobPortal"}]),$=()=>{v.push("/employer/jobs")};return E(async()=>{c.jobs.length||await c.fetchJobs(),c.applications.length||await c.fetchApplications()}),(P,u)=>(l(),i("section",ct,[t("header",ut,[u[2]||(u[2]=t("div",null,[t("p",{class:"section-kicker"},"Panel empresarial"),t("h1",null,"Diseña cohorts, publica roles y monitorea talento."),t("p",null,"Un solo panel para medir vacantes, postulaciones y la calidad de los perfiles recibidos.")],-1)),t("div",dt,[p(w,{size:"sm",onClick:$},{default:s(()=>[...u[0]||(u[0]=[b("Publicar empleo",-1)])]),_:1}),p(k(V),{class:"ghost-link",to:"/employer/applicants"},{default:s(()=>[...u[1]||(u[1]=[b("Ver postulaciones",-1)])]),_:1})])]),t("section",pt,[(l(!0),i(g,null,f(m.value,r=>(l(),i("article",{class:"stat-card",key:r.label},[t("p",bt,e(r.label),1),t("p",mt,e(r.value),1),t("p",_t,e(r.subtext),1)]))),128))]),t("section",vt,[p(C,null,{title:s(()=>[...u[3]||(u[3]=[b("Vacantes activas",-1)])]),default:s(()=>[t("table",yt,[u[4]||(u[4]=t("thead",null,[t("tr",null,[t("th",null,"Rol"),t("th",null,"Ubicación"),t("th",null,"Modalidad"),t("th",null,"Publicado")])],-1)),t("tbody",null,[(l(!0),i(g,null,f(k(c).jobs,r=>(l(),i("tr",{key:r.id},[t("td",null,e(r.title),1),t("td",null,e(r.location),1),t("td",null,e(r.modality),1),t("td",null,e(r.publishedAt),1)]))),128))])])]),_:1}),p(C,null,{title:s(()=>[...u[5]||(u[5]=[b("Postulaciones recientes",-1)])]),footer:s(()=>[p(k(V),{to:"/employer/applicants"},{default:s(()=>[...u[6]||(u[6]=[b("Abrir módulo de postulaciones →",-1)])]),_:1})]),default:s(()=>[t("ul",ht,[(l(!0),i(g,null,f(k(c).applications,r=>(l(),i("li",{key:r.id},[t("div",null,[t("strong",null,e(r.candidate),1),t("p",null,e(r.role),1)]),t("span",null,e(r.status),1)]))),128))])]),_:1})])]))}},B=R(gt,[["__scopeId","data-v-93a833e8"]]),ft={key:0,class:"dashboard-view"},kt={class:"dashboard-view__hero"},Ct={class:"dashboard-view__hero-content"},$t={class:"eyebrow"},wt={class:"dashboard-view__actions"},Pt={class:"dashboard-view__hero-cards"},xt={class:"hero-card__label"},St={class:"hero-card__value"},zt={class:"dashboard-view__insights"},Rt={class:"eyebrow"},At=["onClick"],Tt={key:0,class:"dashboard-view__body glass-surface"},Vt={key:1,class:"dashboard-view__body glass-surface"},jt={class:"dashboard-tabs",role:"tablist"},Bt=["onClick"],Et={__name:"DashboardView",setup(T){const v=A(),c=N(),m=_(()=>{var d;const h=((d=c.user)==null?void 0:d.role)||"talent";return h==="user"?"talent":h}),$=_(()=>{var h,d,n;return((h=c.user)==null?void 0:h.name)||((n=(d=c.user)==null?void 0:d.email)==null?void 0:n.split("@")[0])||"Comunidad"}),P=_(()=>m.value==="employer"?"Administra tus vacantes y postulaciones":"Explora retos, recursos y comunidad"),u=_(()=>m.value==="employer"?"Centraliza vacantes, revisa postulaciones y comparte contexto con tu equipo.":"Organiza tu plan de aprendizaje, recibe recomendaciones y participa en la comunidad JobPortal."),r=_(()=>m.value==="employer"?[{label:"Vacantes activas",value:"08",meta:"En vivo esta semana"},{label:"Postulaciones",value:"42",meta:"Últimos 14 días"},{label:"Tiempo a contratar",value:"18 d",meta:"Promedio ciclo"}]:[{label:"Retos completados",value:"12",meta:"Historial JobPortal"},{label:"Match cultural",value:"92%",meta:"Promedio de tus cohorts"},{label:"Mentorías",value:"05",meta:"Semana actual"}]),z=_(()=>m.value==="employer"?[{badge:"Panel employer",title:"Refina tu storytelling de vacantes",copy:"Comparte contexto multimedia y asegura feedback de talento en menos de 48h.",accent:"rgba(59,130,246,0.25)",cta:{label:"Ir a vacantes",to:"/employer/jobs"}},{badge:"Pipeline",title:"Prioriza entrevistas clave",copy:"Clasifica postulaciones con etiquetas inteligentes y notas en tiempo real.",accent:"rgba(14,165,233,0.25)",cta:{label:"Ver postulaciones",to:"/employer/applicants"}}]:[{badge:"Plan de carrera",title:"Define tus próximos experimentos",copy:"Explora retos técnicos y recursos verificados para fortalecer tu portafolio.",accent:"rgba(59,130,246,0.25)",cta:{label:"Explorar recursos",to:"/resources"}},{badge:"Comunidad",title:"Comparte aprendizajes en foros",copy:"Suma tus hallazgos en debates activos y recibe retroalimentación curada.",accent:"rgba(124,58,237,0.25)",cta:{label:"Ir a foros",to:"/forum"}}]),x=_(()=>m.value==="employer"?"Publicar vacante":"Buscar vacantes"),y=_(()=>m.value==="employer"?"/employer/jobs":"/jobs"),a=[{id:"overview",label:"Resumen",component:B},{id:"jobs",label:"Vacantes",component:U},{id:"applicants",label:"Postulaciones",component:K}],o=F("overview"),S=_(()=>{var h;return((h=a.find(d=>d.id===o.value))==null?void 0:h.component)||B}),J=()=>{v.push(y.value)},M=()=>{window.open("https://cal.com/jobportal/support","_blank")};return(h,d)=>k(c).user?(l(),i("section",ft,[t("header",kt,[t("div",Ct,[t("p",$t,"Hola, "+e($.value),1),t("h1",null,e(P.value),1),t("p",null,e(u.value),1),t("div",wt,[p(w,{size:"sm",onClick:J},{default:s(()=>[b(e(x.value),1)]),_:1}),t("button",{class:"link-button",type:"button",onClick:M},"Contactar soporte")])]),t("div",Pt,[(l(!0),i(g,null,f(r.value,n=>(l(),i("article",{key:n.label,class:"hero-card fade-up"},[t("p",xt,e(n.label),1),t("strong",St,e(n.value),1),t("small",null,e(n.meta),1)]))),128))])]),t("section",zt,[(l(!0),i(g,null,f(z.value,n=>(l(),i("article",{key:n.title,class:"insight-card",style:L({"--accent":n.accent})},[t("div",null,[t("p",Rt,e(n.badge),1),t("h3",null,e(n.title),1),t("p",null,e(n.copy),1)]),t("button",{class:"pill-link",type:"button",onClick:q=>k(v).push(n.cta.to)},e(n.cta.label),9,At)],4))),128))]),m.value!=="employer"?(l(),i("section",Tt,[p(rt)])):(l(),i("section",Vt,[t("div",jt,[(l(),i(g,null,f(a,n=>t("button",{key:n.id,class:O(["dashboard-tab",{"dashboard-tab--active":n.id===o.value}]),type:"button",role:"tab",onClick:q=>o.value=n.id},e(n.label),11,Bt)),64))]),(l(),j(H(S.value),{key:o.value}))]))])):(l(),j(C,{key:1,class:"dashboard-view__empty"},{title:s(()=>[...d[1]||(d[1]=[b("Sin sesión activa",-1)])]),default:s(()=>[d[3]||(d[3]=t("p",null,"Vuelve a iniciar sesión para acceder a tu panel personalizado.",-1)),p(w,{size:"sm",onClick:d[0]||(d[0]=n=>k(v).push("/login"))},{default:s(()=>[...d[2]||(d[2]=[b("Ir a iniciar sesión",-1)])]),_:1})]),_:1}))}},Ft=R(Et,[["__scopeId","data-v-ed27bab1"]]);export{Ft as default};
