import{_ as V,m as _,r as v,q as w,c as d,b as l,w as m,u as y,o as p,a as o,f as B,k as C,g as h,h as S,t as k,B as x,l as N,e as c}from"./index-BsLnnuA8.js";import{B as R}from"./BaseCard-BhYAbX2i.js";import{B as r}from"./BaseInput-DXqoVjhU.js";const U={class:"auth auth--register"},I={class:"auth__select"},M={key:0,class:"auth__error"},T={__name:"RegisterView",setup(q){const u=_(),n=y(),a=v({name:"",email:"",password:"",role:"user"}),s=w(""),f=()=>!a.name||!a.email||!a.password?(s.value="Completa los campos obligatorios",!1):(s.value="",!0),b=async()=>{if(f())try{await u.register(a),n.push("/dashboard")}catch(i){s.value=i.message||"No pudimos crear tu cuenta"}},g=()=>{n.push("/login")};return(i,e)=>(p(),d("section",U,[l(R,{class:"auth__card"},{default:m(()=>[e[8]||(e[8]=o("p",{class:"auth__eyebrow"},"Comencemos",-1)),e[9]||(e[9]=o("h1",null,"Crea tu cuenta JobPortal",-1)),e[10]||(e[10]=o("p",{class:"auth__hint"},"Elige si quieres explorar oportunidades o publicar vacantes.",-1)),o("form",{class:"auth__form",onSubmit:B(b,["prevent"])},[l(r,{modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=t=>a.name=t),label:"Nombre completo",placeholder:"Tu nombre"},null,8,["modelValue"]),l(r,{modelValue:a.email,"onUpdate:modelValue":e[1]||(e[1]=t=>a.email=t),type:"email",label:"Correo",placeholder:"tusitio@uni.edu"},null,8,["modelValue"]),l(r,{modelValue:a.password,"onUpdate:modelValue":e[2]||(e[2]=t=>a.password=t),type:"password",label:"Contraseña",placeholder:"••••••••"},null,8,["modelValue"]),o("label",I,[e[5]||(e[5]=o("span",null,"Rol",-1)),h(o("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>a.role=t)},[...e[4]||(e[4]=[o("option",{value:"user"},"Busco oportunidades",-1),o("option",{value:"employer"},"Soy employer",-1)])],512),[[S,a.role]])]),s.value?(p(),d("p",M,k(s.value),1)):C("",!0),l(x,{type:"submit","is-loading":N(u).loading},{default:m(()=>[...e[6]||(e[6]=[c("Crear cuenta",-1)])]),_:1},8,["is-loading"])],32),o("p",{class:"auth__alt"},[e[7]||(e[7]=c(" ¿Ya tienes cuenta? ",-1)),o("button",{type:"button",class:"auth__link",onClick:g},"Inicia sesión")])]),_:1})]))}},J=V(T,[["__scopeId","data-v-997c56a3"]]);export{J as default};
