import{_ as w,m as y,r as V,q as b,c as i,b as r,w as d,u as h,x as B,o as p,a as t,f as C,k,t as x,B as N,l as S,e as m}from"./index-BsLnnuA8.js";import{B as I}from"./BaseCard-BhYAbX2i.js";import{B as c}from"./BaseInput-DXqoVjhU.js";const q={class:"auth auth--login"},R={key:0,class:"auth__error"},A={__name:"LoginView",setup(L){const n=y(),u=h(),f=B(),a=V({email:"",password:""}),s=b(""),_=()=>!a.email||!a.password?(s.value="Completa tu correo y contraseña",!1):(s.value="",!0),g=async()=>{if(_())try{await n.login(a);const o=f.query.redirect||"/dashboard";u.push(o)}catch(o){s.value=o.message||"No pudimos validar tus datos"}},v=()=>{u.push("/register")};return(o,e)=>(p(),i("section",q,[r(I,{variant:"glass",class:"auth__card"},{default:d(()=>[e[4]||(e[4]=t("p",{class:"auth__eyebrow"},"Bienvenido de vuelta",-1)),e[5]||(e[5]=t("h1",null,"Inicia sesión",-1)),e[6]||(e[6]=t("p",{class:"auth__hint"},"Accede al panel, guarda vacantes y continúa donde te quedaste.",-1)),t("form",{class:"auth__form",onSubmit:C(g,["prevent"])},[r(c,{modelValue:a.email,"onUpdate:modelValue":e[0]||(e[0]=l=>a.email=l),type:"email",label:"Correo institucional",placeholder:"tusitio@uni.edu"},null,8,["modelValue"]),r(c,{modelValue:a.password,"onUpdate:modelValue":e[1]||(e[1]=l=>a.password=l),type:"password",label:"Contraseña",placeholder:"••••••••"},null,8,["modelValue"]),s.value?(p(),i("p",R,x(s.value),1)):k("",!0),r(N,{type:"submit","is-loading":S(n).loading},{default:d(()=>[...e[2]||(e[2]=[m("Iniciar sesión",-1)])]),_:1},8,["is-loading"])],32),t("p",{class:"auth__alt"},[e[3]||(e[3]=m(" ¿No tienes cuenta? ",-1)),t("button",{type:"button",class:"auth__link",onClick:v},"Crear cuenta")])]),_:1})]))}},D=w(A,[["__scopeId","data-v-baa33e7f"]]);export{D as default};
