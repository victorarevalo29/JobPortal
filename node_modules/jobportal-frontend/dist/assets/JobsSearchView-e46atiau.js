import{_ as N,r as T,c as U,o as $,a as n,b as e,d as c,j as h,k,F as p,e as m,w as _,B as D,i as E,f as I,m as R,t,l as v,u as A,g as a,h as g}from"./index-Cw7ty9o7.js";import{B as C}from"./BaseInput-DF9V6cTV.js";import{B as V}from"./BaseCard-B_bAREMe.js";import{u as P}from"./jobsStore-MtEZzHB6.js";const z={class:"jobs"},O={class:"field"},Q={class:"field"},X={class:"field"},G=["value"],H={class:"field"},K={class:"jobs__results"},W={class:"jobs__count"},Y={key:0,class:"jobs__list"},Z={key:1,class:"jobs__list"},ee=["onClick"],se={class:"job-card__header"},le={class:"job-card__badge"},oe={class:"job-card__time"},te={class:"job-card__company"},ae={class:"job-card__location"},ne={class:"job-card__salary"},ie={class:"job-card__skills"},re={__name:"JobsSearchView",setup(de){const i=P(),x=A(),o=T({experience:"junior",...i.filters}),B=[{value:"",label:"Cualquier modalidad"},{value:"full-time",label:"Tiempo completo"},{value:"part-time",label:"Medio tiempo"},{value:"contract",label:"Contrato"},{value:"internship",label:"Internship"},{value:"temporary",label:"Temporal"}],S=["Figma","Notion","Miro"],j=()=>{i.setFilters(o)},b=U(()=>{const{query:u,location:s,modality:l,experience:d}=o,y=(r="")=>r.toLowerCase().trim();return i.jobs.filter(r=>{var f;const M=u?`${r.title} ${r.description}`.toLowerCase().includes(y(u)):!0,J=s?(f=r.location)==null?void 0:f.toLowerCase().includes(y(s)):!0,L=l?r.contractType===l:!0,q=d?r.requirements.some(F=>F.toLowerCase().includes(y(d))):!0;return M&&J&&L&&q})}),w=u=>x.push(`/jobs/${u}`);return $(()=>{i.fetchJobs()}),(u,s)=>(a(),n("section",z,[s[12]||(s[12]=e("header",{class:"jobs__hero"},[e("div",null,[e("p",{class:"section-kicker"},"Curador inteligente"),e("h2",null,"Encuentra el próximo reto con filtros avanzados."),e("p",null," Explora vacantes remotas, híbridas y presenciales. Ordena por habilidades, ciudades y seniority para construir cohorts hiper relevantes. ")]),e("ul",null,[e("li",null,[e("strong",null,"280+"),e("span",null,"vacantes verificadas")]),e("li",null,[e("strong",null,"92%"),e("span",null,"match cultural promedio")])])],-1)),e("form",{class:"jobs__filters",onSubmit:E(j,["prevent"])},[e("label",O,[s[4]||(s[4]=e("span",null,"Palabra clave",-1)),c(C,{modelValue:o.query,"onUpdate:modelValue":s[0]||(s[0]=l=>o.query=l),placeholder:"Diseño, datos, backend..."},null,8,["modelValue"])]),e("label",Q,[s[5]||(s[5]=e("span",null,"Ubicación",-1)),c(C,{modelValue:o.location,"onUpdate:modelValue":s[1]||(s[1]=l=>o.location=l),placeholder:"Remoto LATAM, CDMX..."},null,8,["modelValue"])]),e("label",X,[s[6]||(s[6]=e("span",null,"Modalidad",-1)),h(e("select",{"onUpdate:modelValue":s[2]||(s[2]=l=>o.modality=l)},[(a(),n(p,null,m(B,l=>e("option",{key:l.value||"all",value:l.value},t(l.label),9,G)),64))],512),[[k,o.modality]])]),e("label",H,[s[8]||(s[8]=e("span",null,"Seniority",-1)),h(e("select",{"onUpdate:modelValue":s[3]||(s[3]=l=>o.experience=l)},[...s[7]||(s[7]=[e("option",{value:"intern"},"Intern",-1),e("option",{value:"junior"},"Junior",-1),e("option",{value:"mid"},"Mid",-1),e("option",{value:"senior"},"Senior",-1)])],512),[[k,o.experience]])]),c(D,{type:"submit"},{default:_(()=>[...s[9]||(s[9]=[g("Refinar búsqueda",-1)])]),_:1})],32),e("section",K,[e("p",W,t(v(i).loading?"Cargando vacantes…":`${b.value.length} vacantes activas`),1),v(i).loading?(a(),n("div",Y,[(a(),n(p,null,m(3,l=>c(V,{key:l,class:"job-card job-card--skeleton"},{default:_(()=>[...s[10]||(s[10]=[e("div",{class:"skeleton-line"},null,-1),e("div",{class:"skeleton-line"},null,-1),e("div",{class:"skeleton-line"},null,-1)])]),_:1})),64))])):(a(),n("div",Z,[(a(!0),n(p,null,m(b.value,l=>(a(),n("article",{key:l.id,class:"job-card",onClick:d=>w(l.id)},[e("div",se,[e("span",le,t(l.modality||"Flexible"),1),e("span",oe,t(l.postedAgo||"Publicado hoy"),1)]),e("h3",null,t(l.title),1),e("p",te,t(l.company),1),e("p",ae,t(l.location),1),e("p",ne,t(l.salaryRange||l.salary||"Salario a convenir"),1),e("div",ie,[(a(!0),n(p,null,m(l.skills.length?l.skills:S,d=>(a(),n("span",{key:d,class:"pill"},t(d),1))),128))])],8,ee))),128))])),!v(i).loading&&!b.value.length?(a(),I(V,{key:2,class:"jobs__empty"},{title:_(()=>[...s[11]||(s[11]=[g("No encontramos vacantes",-1)])]),default:_(()=>[e("p",null,t(v(i).error||"Prueba otros filtros o amplía tu ubicación para descubrir nuevos retos."),1)]),_:1})):R("",!0)])]))}},_e=N(re,[["__scopeId","data-v-64984ac0"]]);export{_e as default};
